.sight_reading_page {
    background: var(--body-background);

    /* Empty rules to export class names that are only styled in nested/compound contexts */
    .fullscreen {}
    .stats {}
    .second {}

    /* Workspace styles (migrated from main.scss since only used by this page) */
    .workspace {
        display: flex;

        @media (max-width: 1100px) {
            display: block;
        }

        justify-content: center;
        align-items: center;
        position: absolute;
        top: 50px;
        left: 0;
        right: 0;
        bottom: 0;
        overflow: auto;
    }

    /*
     * keyboard_open, settings_open stay as global classes because:
     * - settings_open affects .header styles in main.scss
     * - Using :global() allows these modifiers to work with both global header
     *   styles and our scoped workspace styles
     */
    &:global(.keyboard_open) .workspace {
        bottom: var(--keyboard-height);
        @media (max-width: 1100px) {
            bottom: var(--keyboard-height-short);
        }
        @media (max-width: 800px) {
            bottom: var(--keyboard-height-very-short);
        }
    }

    &:global(.settings_open) .workspace {
        left: var(--settings-panel-width);
    }

    &.fullscreen {
        width: 100%;
        height: 100%;

        .workspace {
            top: 0;
        }

        .workspace_header, .keyboard_toggle, .toolbar {
            display: none;
        }
    }

    .workspace_header {
        margin-bottom: 20px;
        display: flex;
        align-items: center;

        > button {
            margin-right: 10px;
        }

        .stats {
            text-align: right;
            flex: 1;
        }

        @media (max-width: 1100px) {
            margin-top: 20px;
            padding-left: 20px;
            padding-right: 20px;
        }

        .stats {
            white-space: nowrap;
        }
    }

    .workspace_wrapper {
        flex: 1;
        max-width: var(--default-width);
        width: 100%;

        @media (max-width: 1100px) {
            max-width: none;
        }
    }

    .toolbar {
        margin: 20px 0;
        display: flex;
        align-items: center;
        justify-content: end;
        gap: 10px;

        @media (max-width: 1100px) {
            padding: 0 20px;
            margin-bottom: 40px;
        }

        @media (max-width: 500px) {
            flex-direction: column;
            align-items: flex-end;
        }

        > .labeled_tool {
            display: flex;
            align-items: center;
            gap: 5px;

            .label {
                font-size: 14px;
                opacity: 0.8;
            }
        }

        > :global(.slider_input) {
            margin: 0;
        }
    }

    .toggle_switch {
        flex: none;
        border: 2px solid #333;
        border-radius: 4px;
        background: #333;
        position: relative;
        font-weight: bold;
        font-size: 13px;
        cursor: pointer;
        user-select: none;
        overflow: hidden;

        &::before {
            position: absolute;
            content: "";
            width: 50%;
            left: 0;
            top: 0;
            bottom: 0;
            background: var(--button-color);
            z-index: 1;
            border-radius: 2px;
            transition: 0.1s ease all;
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.2);
        }

        &.second {
            &::before {
                left: 50%;
                right: 2px;
            }

            .toggle_option {
                &:nth-child(1) {
                    opacity: 0.5;
                }

                &:nth-child(2) {
                    opacity: 1;
                }
            }
        }

        .toggle_option {
            &:nth-child(2) {
                opacity: 0.5;
            }

            display: inline-block;
            position: relative;
            z-index: 2;
            width: 60px;
            color: white;
            text-align: center;
            padding: 4px 10px;
        }
    }

    .keyboard_toggle {
        position: absolute;
        z-index: 2;
        bottom: 10px;
        right: 10px;
    }

    &.scroll_mode {
        .staff_wrapper {
            &::before {
                content: "";
                position: absolute;
                top: 0;
                bottom: 0;
                left: calc(50% - 60px);
                right: 0;
                width: 120px;
                background: #9fffb8;
            }
        }
    }

    &.wait_mode {}

    .staff_wrapper {}
}
